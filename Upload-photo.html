<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Product</title>
  <style>
/* ===== Body & Header ===== */
body {
  font-family: 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  background: #f5f5f5;
}

header {
  background: #4CAF50;
  color: white;
  padding: 8px;
  text-align: center;
  font-size: 11px;
  font-weight: bold;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

/* ===== Buttons ===== */
button {
  padding: 12px 25px;
  margin: 10px 0;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background: #4CAF50;
  color: white;
  font-size: 13px;
  font-weight: bold;
  transition: 0.3s;
}

button:hover {
  background: #45a049;
}

/* ===== Modal Background ===== */
.modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);
  overflow: auto;
}

/* ===== Modal Content ===== */
.modal-content {
  background: linear-gradient(135deg, #ffffff, #f0f0f0);
  border-radius: 12px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
  margin: 10% auto;
  padding: 25px;
  width: 350px;
  max-width: 90%;
  text-align: center;
  position: relative;
  animation: popupFade 0.3s ease-in-out;
}

/* ===== Close Button ===== */
.close {
  color: #888;
  font-size: 26px;
  font-weight: bold;
  position: absolute;
  top: 10px;
  right: 15px;
  cursor: pointer;
}

.close:hover {
  color: #f00;
}

/* ===== Input & Select Fields ===== */
input, select {
  width: 90%;
  padding: 12px;
  margin: 10px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 15px;
  outline: none;
  transition: 0.3s;
}

input:focus, select:focus {
  border-color: #4CAF50;
  box-shadow: 0 0 6px rgba(76,175,80,0.5);
}

/* ===== Image Preview ===== */
#preview {
  width: 100%;
  height: 200px;
  object-fit: contain;
  border: 1px solid #ccc;
  margin-bottom: 15px;
  border-radius: 8px;
}

/* ===== Popup Animation ===== */
@keyframes popupFade {
  from { transform: scale(0.7); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

    
    
    
    
    /* üîπ Login Modal Styling */
#loginModal .modal-content {
  background: linear-gradient(135deg, #ffffff, #f9f9f9);
  border-radius: 12px;
  box-shadow: 0px 5px 20px rgba(0,0,0,0.3);
  padding: 25px;
  width: 320px;
  text-align: center;
  animation: popupFade 0.3s ease-in-out;
}

#loginModal h3 {
  margin-bottom: 15px;
  color: #333;
  font-size: 20px;
  font-weight: bold;
}

/* üîπ Input Box Style */
#loginModal input {
  width: 90%;
  padding: 10px;
  margin: 8px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 14px;
  outline: none;
  transition: 0.3s;
}

#loginModal input:focus {
  border-color: #4CAF50;
  box-shadow: 0 0 6px rgba(76, 175, 80, 0.5);
}

/* üîπ Login Button */
#loginModal button {
  width: 95%;
  padding: 10px;
  margin-top: 12px;
  background: #4CAF50;
  color: white;
  font-size: 15px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}

#loginModal button:hover {
  background: #45a049;
}

/* üîπ Close Button (X) */
#loginModal .close {
  color: #888;
  font-size: 26px;
  font-weight: bold;
  position: absolute;
  top: 8px;
  right: 12px;
  cursor: pointer;
}

#loginModal .close:hover {
  color: #f00;
}

/* üîπ Popup Animation */
@keyframes popupFade {
  from { transform: scale(0.7); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}



/* üîπ Modal Box Style */
#loginModal .modal-content,
#uploadModal .modal-content {
  background: linear-gradient(135deg, #ffffff, #f0f0f0);
  border-radius: 12px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
  padding: 25px;
  width: 320px;
  max-width: 90%;
  text-align: center;
  position: relative;
  animation: popupFade 0.3s ease-in-out;
}

/* üîπ Modal Heading */
#loginModal h3,
#uploadModal h3 {
  margin-bottom: 15px;
  color: #333;
  font-size: 20px;
  font-weight: bold;
}

/* üîπ Input Fields */
#loginModal input,
#uploadModal input,
#uploadModal select {
  width: 90%;
  padding: 10px;
  margin: 8px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 14px;
  outline: none;
  transition: 0.3s;
}

#loginModal input:focus,
#uploadModal input:focus,
#uploadModal select:focus {
  border-color: #4CAF50;
  box-shadow: 0 0 6px rgba(76, 175, 80, 0.5);
}

/* üîπ Buttons */
#loginModal button,
#uploadModal button {
  width: 95%;
  padding: 12px;
  margin-top: 12px;
  background: #4CAF50;
  color: white;
  font-size: 15px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}

#loginModal button:hover,
#uploadModal button:hover {
  background: #45a049;
}

/* üîπ Close (X) Button */
#loginModal .close,
#uploadModal .close {
  color: #888;
  font-size: 26px;
  font-weight: bold;
  position: absolute;
  top: 8px;
  right: 12px;
  cursor: pointer;
}

#loginModal .close:hover,
#uploadModal .close:hover {
  color: #f00;
}

/* üîπ Popup Animation */
@keyframes popupFade {
  from { transform: scale(0.7); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* üîπ Image Preview */
#preview {
  width: 100%;
  height: 200px;
  object-fit: contain;
  border: 1px solid #ccc;
  margin-bottom: 12px;
  border-radius: 8px;
}


/* ===== Logo Box Styling ===== */
.logo {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px; /* ‡§≤‡•ã‡§ó‡•ã ‡§î‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ú‡§ó‡§π */
  background: #ffffff;
  padding:10px 20px;
  margin: 15px auto;
  width: fit-content;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  font-weight: bold;
  font-size: 15px;
  color: #333;
  text-align: center;
  transition: transform 0.3s, box-shadow 0.3s;
color: blue;
  
}

.logo img {
  border-radius: 20%; 
  object-fit: cover;
  width: 80px;
  height: 80px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.15);
  transition: transform 0.3s;
}

.logo:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}

.logo img:hover {
  transform: scale(1.2);
}


    /* Menu Bar */
    nav {
      background-color: white;
      position: sticky;
      top: 0px;
      
      z-index: 1000;
      box-shadow: 0px 2px 6px rgba(0,0,0,0.3);
    }

    nav ul {
      display: flex;
      margin: 0;
      padding: 0;
      list-style: none;
    }

    nav ul li {
      flex: 1; /* ‡§∏‡§≠‡•Ä ‡§¨‡§ü‡§® ‡§¨‡§∞‡§æ‡§¨‡§∞ ‡§ö‡•å‡§°‡§º‡§æ‡§à ‡§≤‡•á‡§Ç‡§ó‡•á */
  
    }

    nav ul li a {
      display: block;
      text-align: center;
      text-decoration: none;
      color: white;
      font-weight: bold;
      font-size: clamp(15px, 3vw, 18px); /* responsive text */
      padding: 14px 0;
      background: black;
      transition: 0.3s;
    }

    nav ul li a:hover {
      background: white;
      color: black;
    }

    /* Customise Button */
    .custom-btn {
      display: block;
      width: 100%;
      margin: 0;
      padding: clamp(14px, 3.5vw, 20px);
      background: linear-gradient(45deg, #ff6699, #ff3366);
      color: white;
      text-align: center;
      font-size: clamp(25px, 4vw, 24px);
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: 0.3s;
      position: sticky;
      top: 40px;
    }

    .custom-btn:hover {
      background: linear-gradient(45deg, #ff3366, #cc0055);
      color: black;
    }
    
  </style>
</head>
<body>

        <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="About us1.html">About Us</a></li>
      <li><a href="Contact us1.html">Contact Us</a></li>
      <li><a href="My Order.html">My Orders</a></li>
    </ul>
  </nav>

  <a href="Choose your photo.html" style=" text-decoration:none;">
  <button class="custom-btn">Customise Your Photo</button>
</a>
      
        <div class="logo">
      <img src="logo.png" width="80px" height="80px">
      S. K. T-Shirt Printing & Gifts Gallery
      </div>
  <header>

    <h2>Upload Product (Admin Only)</h2>
  </header>

  <center>
   Please fill your details  ‚û°
    <button onclick="openLoginModal()">Upload New Product</button>
  </center>

  <!-- ‚úÖ Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeLoginModal()">&times;</span>
      <h3>Admin Login</h3>
      <input type="text" id="username" placeholder="Enter Username"><br>
      <input type="password" id="password" placeholder="Enter Password"><br>
      <button onclick="checkLogin()">Login</button>
    </div>
  </div>

  <!-- ‚úÖ Upload Modal -->
  <div id="uploadModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeUploadModal()">&times;</span>
      <h3>Add Product</h3>
      <input type="file" id="fileInput" accept="image/*" onchange="previewImage()"><br>
      <img id="preview" alt="Preview"><br>
      <input type="text" id="pName" placeholder="Enter Product Name">
      <input type="number" id="pPrice" placeholder="Enter Price">

      <!-- ‚úÖ Category Select -->
      <select id="pCategory">
        <option value="Tshirt">T-shirt</option>
        <option value="MagicMug">Magic Mug</option>
        <option value="Mug">Mug</option>
        <option value="Pillow">Pillow</option>
      </select>

      <select id="pSize">
        <option value="M">M</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
      </select>
      <br>
      <button onclick="addProduct()">Add Product</button>
    </div>
  </div>
<input type="number" id="loginMinutes" placeholder="Valid Time (minutes)">


<hr>
  <script>
    // üîπ Login Modal Controls
    function openLoginModal() {
      document.getElementById("loginModal").style.display = "block";
    }
    function closeLoginModal() {
      document.getElementById("loginModal").style.display = "none";
    }

    // üîπ Upload Modal Controls
    function openUploadModal() {
      document.getElementById("uploadModal").style.display = "block";
    }
    function closeUploadModal() {
      document.getElementById("uploadModal").style.display = "none";
    }

    // üîπ Check Username & Password
    function checkLogin() {
      const userField = document.getElementById("username");
      const passField = document.getElementById("password");
      const user = userField.value;
      const pass = passField.value;

      if (user === "mahendra24" && pass === "mahe9838") {
        alert("‚úÖ Login Successful! ‡§Ö‡§¨ Product Upload ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•ã‡•§");
        userField.value = "";
        passField.value = "";
        closeLoginModal();
        openUploadModal();
      } else {
        alert("‚ùå ‡§ó‡§≤‡§§ Username ‡§Ø‡§æ Password!");
      }
    }

    // üîπ Image Preview
    function previewImage(){
      const file = document.getElementById("fileInput").files[0];
      if(file){
        const reader = new FileReader();
        reader.onload = e => { document.getElementById("preview").src = e.target.result; };
        reader.readAsDataURL(file);
      }
    }

    // üîπ Add Product with Category
    function addProduct(){
      const imgSrc = document.getElementById("preview").src;
      const name = document.getElementById("pName").value || "Custom Product";
      const price = document.getElementById("pPrice").value || "0";
      const size = document.getElementById("pSize").value;
      const category = document.getElementById("pCategory").value;

      if(!imgSrc || imgSrc === "data:,"){ 
        alert("‡§™‡§π‡§≤‡•á ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•ã!"); return; 
      }

      // ‚úÖ Category-wise Storage
      let storageKey = "";
      let redirectPage = "";

      if(category === "Tshirt"){ 
        storageKey = "products_tshirt"; 
        redirectPage = "productPage1.html"; 
      }
      else if(category === "MagicMug"){ 
        storageKey = "products_magicmug"; 
        redirectPage = "productPage2.html"; 
      }
      else if(category === "Mug"){ 
        storageKey = "products_mug"; 
        redirectPage = "productPage3.html"; 
      }
      else if(category === "Pillow"){ 
        storageKey = "products_pillow"; 
        redirectPage = "productPage4.html"; 
      }

      let products = JSON.parse(localStorage.getItem(storageKey) || "[]");
      products.push({img: imgSrc, name, price, size});
      localStorage.setItem(storageKey, JSON.stringify(products));

      alert("‚úÖ Product Added Successfully!");
      closeUploadModal();
      window.location.href = redirectPage; // ‡§∏‡§π‡•Ä category ‡§µ‡§æ‡§≤‡•á page ‡§™‡§∞ redirect
    }

    // üîπ ‡§¨‡§æ‡§π‡§∞ click ‡§™‡§∞ modal ‡§¨‡§Ç‡§¶
    window.onclick = function(event){
      if(event.target === document.getElementById("loginModal")) closeLoginModal();
      if(event.target === document.getElementById("uploadModal")) closeUploadModal();
    }
    
    
    
    
    
    
    
    
    
  let loginExpiry = localStorage.getItem("loginExpiry") || null;

  // üîπ Login Modal Controls
  function openLoginModal() {
    const now = Date.now();
    if (loginExpiry && now < parseInt(loginExpiry)) {
      // ‚úÖ ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä login valid ‡§π‡•à ‚Üí direct upload modal open ‡§π‡•ã‡§ó‡§æ
      openUploadModal();
    } else {
      document.getElementById("loginModal").style.display = "block";
    }
  }
  function closeLoginModal() {
    document.getElementById("loginModal").style.display = "none";
  }

  // üîπ Upload Modal Controls
  function openUploadModal() {
    document.getElementById("uploadModal").style.display = "block";
  }
  function closeUploadModal() {
    document.getElementById("uploadModal").style.display = "none";
  }

  // üîπ Check Username & Password
  function checkLogin() {
    const userField = document.getElementById("username");
    const passField = document.getElementById("password");
    const minutesField = document.getElementById("loginMinutes"); // ‡§®‡§Ø‡§æ input
    const user = userField.value;
    const pass = passField.value;
    const minutes = parseInt(minutesField.value) || 0;

    if (user === "mahendra24" && pass === "mahe9838") {
      alert("‚úÖ Login Successful! ‡§Ö‡§¨ Product Upload ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•ã‡•§");

      // üîπ Login expiry time set
      if (minutes > 0) {
        const expiryTime = Date.now() + minutes * 60 * 1000; 
        localStorage.setItem("loginExpiry", expiryTime);
      }

      userField.value = "";
      passField.value = "";
      minutesField.value = "";
      closeLoginModal();
      openUploadModal();
    } else {
      alert("‚ùå ‡§ó‡§≤‡§§ Username ‡§Ø‡§æ Password!");
    }
  }

  // üîπ Image Preview
  function previewImage(){
    const file = document.getElementById("fileInput").files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = e => { document.getElementById("preview").src = e.target.result; };
      reader.readAsDataURL(file);
    }
  }

  // üîπ Add Product with Category (same as ‡§Ü‡§™‡§ï‡§æ code ‡§π‡•à)
  function addProduct(){
    const imgSrc = document.getElementById("preview").src;
    const name = document.getElementById("pName").value || "Custom Product";
    const price = document.getElementById("pPrice").value || "0";
    const size = document.getElementById("pSize").value;
    const category = document.getElementById("pCategory").value;

    if(!imgSrc || imgSrc === "data:,"){ 
      alert("‡§™‡§π‡§≤‡•á ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•ã!"); return; 
    }

    let storageKey = "";
    let redirectPage = "";

    if(category === "Tshirt"){ storageKey = "products_tshirt"; redirectPage = "productPage1.html"; }
    else if(category === "MagicMug"){ storageKey = "products_magicmug"; redirectPage = "productPage2.html"; }
    else if(category === "Mug"){ storageKey = "products_mug"; redirectPage = "productPage3.html"; }
    else if(category === "Pillow"){ storageKey = "products_pillow"; redirectPage = "productPage4.html"; }

    let products = JSON.parse(localStorage.getItem(storageKey) || "[]");
    products.push({img: imgSrc, name, price, size});
    localStorage.setItem(storageKey, JSON.stringify(products));

    alert("‚úÖ Product Added Successfully!");
    closeUploadModal();
    window.location.href = redirectPage;
  }

  // üîπ ‡§¨‡§æ‡§π‡§∞ click ‡§™‡§∞ modal ‡§¨‡§Ç‡§¶
  window.onclick = function(event){
    if(event.target === document.getElementById("loginModal")) closeLoginModal();
    if(event.target === document.getElementById("uploadModal")) closeUploadModal();
  }

  </script>
</body>
</html>